(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{1101:function(e,s,t){Promise.resolve().then(t.bind(t,9801))},9801:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var l=t(7437),a=t(1396),r=t.n(a),n=t(4033),i=t(2265),o=t(1865),c=t(5634),u=t(6450);function d(){let{register:e,handleSubmit:s,watch:t,formState:{errors:a}}=(0,o.cI)(),d=(0,n.useRouter)(),[m,f]=(0,i.useState)(""),h=async e=>{try{let s=await (0,u.r)("http://localhost:3001/authentication/sign-in","POST",e);if(null==s?void 0:s.error){f(s.message);return}localStorage.setItem("accessToken",JSON.stringify(null==s?void 0:s.accessToken)),d.push("/admin/board")}catch(e){console.warn(e)}};(0,i.useEffect)(()=>{localStorage.getItem("accessToken")&&(0,n.redirect)("/admin/board")},[t]);let x=()=>{f("")};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.h,{children:(0,l.jsx)("div",{className:"flex w-full justify-between",children:(0,l.jsx)(r(),{href:"/",className:"font-bold text-white",children:"Article Manager"})})}),(0,l.jsx)("div",{className:"flex justify-center w-full  mt-10",children:(0,l.jsx)("form",{onSubmit:s(h),className:"w-full max-w-md rounded-md bg-slate-300",children:(0,l.jsxs)("div",{className:"flex flex-col p-8",children:[(0,l.jsxs)("label",{htmlFor:"email",className:"mb-8 relative flex flex-col",children:[(0,l.jsx)("input",{...e("email",{required:!0}),onChange:x,placeholder:"Please enter your email",className:"rounded-md w-full p-2"}),a.email&&(0,l.jsx)("span",{className:"text-red-700 text-xs absolute top-12",children:"This email field is required"})]}),(0,l.jsxs)("label",{htmlFor:"password",className:"mb-8 relative flex flex-col",children:[(0,l.jsx)("input",{type:"password",placeholder:"Please enter your password",...e("password",{required:!0}),onChange:x,className:"rounded-md w-full p-2 mb-2"}),a.password&&(0,l.jsx)("span",{className:"text-red-700 text-xs absolute top-12",children:"This password field is required"}),m&&(0,l.jsx)("p",{className:"text-red-700 text-xs",children:m})]}),(0,l.jsx)("input",{type:"submit",value:"Login",className:"w-full bg-blue-700 p-2 rounded-md text-white hover:cursor-pointer hover:bg-blue-500"})]})})})]})}},5634:function(e,s,t){"use strict";t.d(s,{h:function(){return a}});var l=t(7437);let a=e=>{let{children:s}=e;return(0,l.jsx)("header",{className:"bg-slate-400 px-6 flex justify-between p-6",children:s})}},6450:function(e,s,t){"use strict";t.d(s,{r:function(){return l}});let l=async(e,s,t)=>{let l=localStorage.getItem("accessToken")?JSON.parse(localStorage.getItem("accessToken")):null,a=await fetch(e,{method:s,body:t&&JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}});return a.json()}}},function(e){e.O(0,[807,599,971,596,744],function(){return e(e.s=1101)}),_N_E=e.O()}]);